<div class="alert alert-block alert-warning">
    <h4>TODO</h4>
    <p>Complete functionality once value system is hooked up</p>
</div>
<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Modality</th>
            <th>Complexity</th>
            <th>Duration / Pages</th>
            <th>Assessment</th>
            <th>Content Readiness</th>
            <th>% new content</th>
            <th>Mobile?</th>
            <th></th>
        </tr>
    </thead>

    <tbody>
        {{#if model.length}}
            {{#each model}}
                <tr {{bind-attr class="saveNeeded"}}>
                    <td>
                        {{#if controller.isEditable}}
                            {{view Ember.Select
                                classNames="form-control"
                                content=controller.modalityChoiceOptions
                                optionLabelPath="content.optionValue"
                                optionValuePath="content.id"
                                selection=jobModality.id
                                prompt="Choose"
                            }}
                        {{else}}
                            {{jobModality.optionValue}}
                        {{/if}}
                    </td>
                    <td>
                        {{#if controller.isEditable}}
                            {{view Ember.Select
                            classNames="form-control"
                            content=controller.complexityChoiceOptions
                            optionLabelPath="content.optionValue"
                            optionValuePath="content.id"
                            value=jobComplexity.id
                            prompt="Choose"
                            }}
                        {{else}}
                            {{jobComplexity.optionValue}}
                        {{/if}}
                    </td>
                    <td>
                        {{#if controller.isEditable}}
                                <div class="col-md-6">
                                    {{input type="text" class="form-control input input-sm" value=jobContentDuration}}
                                </div>
                                <div class="col-md-6">
                                    {{view Ember.Select
                                    classNames="form-control"
                                    content=controller.contentDurationUnitOptions
                                    optionLabelPath="content.optionValue"
                                    optionValuePath="content.id"
                                    value=jobContentDurationUnit.id
                                    prompt="Choose"
                                    }}
                                </div>
                        {{else}}
                            {{jobContentDuration}} {{jobContentDurationUnit.optionValue}}
                        {{/if}}
                    </td>
                    <td>
                        {{#if controller.isEditable}}
                            {{control-toggleSwitch
                            onLabel="Yes"
                            offLabel="No"
                            dataSize="small"
                            value=assessment
                            }}
                        {{else}}
                            {{assessment}}
                        {{/if}}
                    </td>
                    <td>
                        {{log controller.contentReadinessOptions.firstObject}}
                        {{#if controller.isEditable}}
                            {{view Ember.Select
                            classNames="form-control"
                            content=controller.contentReadinessOptions
                            optionLabelPath="content.optionValue"
                            optionValuePath="content.id"
                            value=contentReadiness
                            prompt="Choose"
                            }}
                        {{else}}
                            {{contentReadiness}}
                        {{/if}}
                    </td>
                    <td>
                        {{#if controller.isEditable}}
                            {{view Ember.Select
                            classNames="form-control"
                            content=controller.percentNewContentOptions
                            optionLabelPath="content.optionValue"
                            optionValuePath="content.id"
                            value=percentNewContent
                            prompt="Choose"
                            }}
                        {{else}}
                            {{percentNewContent}}
                        {{/if}}
                    </td>
                    <td>
                        {{#if controller.isEditable}}
                            {{control-toggleSwitch
                            onLabel="Yes"
                            offLabel="No"
                            dataSize="small"
                            value=mobileNeeded
                            }}
                        {{else}}
                            {{mobileNeeded}}
                        {{/if}}
                    </td>
                    <td></td>
                </tr>
            {{/each}}
        {{else}}
            <tr>
                <td colspan="8">No Deliverables yet...</td>
            </tr>
        {{/if}}
    </tbody>

    <tfoot>
        <tr>
            <th colspan="8">
                {{#if isEditable}}
                    <button class="btn btn-primary btn-xs" type="button" {{action "addDeliverable"}}><i class="glyphicon glyphicon-plus"></i> Add Deliverable</button>
                {{/if}}
            </th>
        </tr>
    </tfoot>
</table>